<div data-sly-use.carousel="com.adobe.cq.wcm.core.components.models.Carousel"
    data-sly-use.templates="core/wcm/components/commons/v1/templates.html"
    data-panelcontainer="${wcmmode.edit && 'carousel'}" id="myCarousel" class="cmp-carousel carousel slide"
    data-bs-ride="carousel" data-cmp-data-layer="${carousel.data.json}">

    <ol data-sly-test="${carousel.items && carousel.items.size > 0}" class="carousel-indicators">
        <li data-sly-repeat.item="${carousel.items}" data-bs-target="#myCarousel" data-bs-slide-to="${itemList.index}"
            class="${itemList.first ? 'active' : ''}" aria-current="${itemList.first ? 'true' : 'false'}"
            aria-label="Slide ${itemList.count}"></li>
    </ol>

    <div data-sly-test="${carousel.items && carousel.items.size > 0}" aria-atomic="false"
        aria-live="${carousel.autoplay ? 'off' : 'polite'}" class="cmp-carousel__content carousel-inner">
        <div data-sly-repeat.item="${carousel.items}" data-sly-resource="${item.name @ decorationTagName='div'}"
            role="tabpanel" aria-labelledby="${item.id}-tab" aria-roledescription="slide"
            aria-label="${(carousel.accessibilityAutoItemTitles && item.title) || 'Slide {0} of {1}' @ format=[item.index, itemList.size]}"
            data-cmp-data-layer="${item.data.json}" data-cmp-hook-carousel="item"
            class="carousel-item cmp-carousel__item${itemList.first ? ' cmp-carousel__item--active active' : ''}"
            id="${item.id}-tabpanel">

        </div>
    </div>

    <div data-sly-test="${carousel.items && carousel.items.size > 1}">
        <button class="carousel-control-prev" type="button" data-bs-target="#myCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#myCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>

    <sly data-sly-resource="${resource.path @ resourceType='wcm/foundation/components/parsys/newpar', appendPath='/*', decorationTagName='div', cssClassName='new section aem-Grid-newComponent'}"
        data-sly-test="${(wcmmode.edit || wcmmode.preview) && carousel.items.size < 1}"></sly>

</div>